######################################################################################################
###---------------------------------------------- AV ----------------------------------------------###
######################################################################################################
living_room_tv_on:
  alias: Living Room TV On
  sequence:
    - service: homeassistant.turn_on
      data:
        entity_id:
          - switch.living_room_tv_power
#          - switch.living_room_audio_source

living_room_tv_off:
  alias: Living Room TV Off
  sequence:
    - service: homeassistant.turn_off
      data:
        entity_id:
          - switch.living_room_tv_power
#          - switch.living_room_audio_source           

living_room_volume_up:
  alias: Living Room Volume Up
  sequence:
    - service: homeassistant.turn_on
      data:
        entity_id:
          - switch.living_room_audio_volume

living_room_volume_down:
  alias: Living Room Volume Down
  sequence:
    - service: homeassistant.turn_off
      data:
        entity_id:
          - switch.living_room_audio_volume



######################################################################################################
###------------------------------------------ IRRIGATION ------------------------------------------###
######################################################################################################

sprinklers:
  alias: Sprinklers
  sequence:
    - service: homeassistant.turn_on
      data:
        entity_id:
        - switch.sprinkler_timer_1
        - switch.sprinkler_timer_2
        - switch.sprinkler_timer_3
    - delay: '00:{{[(states.input_number.sprinkler_timer_1.state | int), (states.input_number.sprinkler_timer_2.state | int), (states.input_number.sprinkler_timer_3.state | int)]|max}}:00'
    - service: homeassistant.turn_on
      data:
        entity_id:
        - switch.sprinkler_timer_4
    - delay: '00:{{(states.input_number.sprinkler_timer_4.state | int)}}:00'
    - service: homeassistant.turn_off
      data:
        entity_id:
        - group.irrigation
        - input_boolean.sprinkler_control

    # - service: timer.start
      # entity_id: timer.sprinkler_zone_4
      # data_template:
        # duration: '00:{{states.input_number.sprinkler_timer_4.state | int}}:00'
    # - service: homeassistant.turn_off
      # data:
        # entity_id:
        # - switch.sprinkler_zone_1
        # - switch.sprinkler_zone_2
        # - switch.sprinkler_zone_3
    # - service: homeassistant.turn_on
      # data:
        # entity_id:
        # - switch.sprinkler_zone_4
    # - delay: '00:{{states.input_number.sprinkler_timer_4.state | int}}:00'
    # - service: homeassistant.turn_off
      # data:
        # entity_id:
        # - group.irrigation
        # - input_boolean.sprinkler_control

sprinkler_burst:
  alias: Sprinkler Burst
  sequence:
    - service: homeassistant.turn_on
      data:
        entity_id:
        - switch.sprinkler_zone_4
    - delay: '00:00:02'
    - service: homeassistant.turn_off
      data:
        entity_id:
        - switch.sprinkler_zone_4

######################################################################################################
###-------------------------------------------- OTHER ---------------------------------------------###
######################################################################################################


toggle_roller_door:
  sequence:
    - service_template: >
        {% if is_state('cover.roller_door', 'open') %}
          cover.close_cover
        {% else %}
          cover.open_cover
        {% endif %}
      entity_id: cover.roller_door

door_bell:
  sequence:
    - service_template: >
        {% if is_state('sensor.location_daniel', 'Home') %}
          xiaomi_aqara.play_ringtone
        {% endif %}
      data:
        gw_mac: 34ce00fa664a
        ringtone_id: 10
        ringtone_vol: 100